let pokemonRepository=function(){let e=[],t={},o="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(t){"object"==typeof t?e.push(t):console.log("Not a pokemon, please try again")}function l(e){let o=e.detailsUrl;return fetch(o).then(function(e){return e.json()}).then(function(o){e.id=o.id,e.imageUrl=o.sprites.front_default,e.height=o.height,e.types=o.types,e.weight=o.weight,e.abilities=o.abilities,t[e.id]=e}).catch(function(e){console.error(e)})}function i(e){let o=t[e];o?function(e){document.querySelector(".modal-content");let t=e.types[0].type.name;document.querySelector(".modal-title").innerText=e.name,document.querySelector(".modal-header").style.backgroundColor=calcColorByType(t);let o=document.querySelector(".modal-body"),n=document.createElement("img");n.classList.add("detailPokemon"),n.src=e.imageUrl,o.appendChild(n);for(let t of e.types){let e=document.createElement("p");e.innerText=t.type.name,o.appendChild(e)}}(o):console.error("Pokemon "+e+" is not available")}document.querySelector("#exampleModal");return $("#exampleModal").on("hidden.bs.modal",function(e){$(".modal-title").empty(),$(".modal-body").empty()}),{add:n,getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".pokemon-list"),o=document.createElement("li");o.dataset.target="#exampleModal",o.dataset.toggle="modal",o.classList.add("list-group-item"),o.classList.add("pkm-btn");let n=document.createElement("h3");n.innerText=e.name,o.appendChild(n),l(e).then(function(){let n=calcColorByType(e.types[0].type.name),l=document.createElement("div");l.classList.add("type-wrap"),o.appendChild(l);for(let t of e.types){let e=document.createElement("p");e.innerText=t.type.name,l.appendChild(e)}let i=document.createElement("div");i.classList.add("img-wrap"),o.appendChild(i),o.style.backgroundColor=n;let r=document.createElement("img");r.src=e.imageUrl,i.appendChild(r),t.appendChild(o)}),o.addEventListener("click",function(t){i(e.id)})},loadList:function(){return fetch(o).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:l,showDetails:i}}();function calcColorByType(e){let t={normal:"#A8A878",fire:"#F08030",fighting:"#C03028",water:"#6890F0",flying:"#A890F0",grass:"#78C850",poison:"#A040A0",electric:"#F8D030",ground:"#E0C068",psychic:"#F85888",rock:"#B8A038",ice:"#98D8D8",bug:"#A8B820",dragon:"#7038F8",ghost:"#705898",dark:"#705848",steel:"#B8B8D0",fairy:"#EE99AC"}[e.toLowerCase()];return t||"red"}let pokemonList=pokemonRepository.getAll();function filterPokemon(){let e=document.querySelector("#Search"),t=document.querySelector(".pokemon-list");for(let o of t.children){let t=o.querySelector("h3").innerText,n=e.value.toLowerCase(),l=t.toLowerCase().includes(n);o.style.display=l?"":"none"}}pokemonRepository.loadList().then(function(){pokemonList.forEach(function(e){pokemonRepository.addListItem(e)})}).then(function(){let e=document.querySelector("#pokedex-header");e.innerText=e.innerText+" of "+pokemonList.length+" Pok√©mons "});